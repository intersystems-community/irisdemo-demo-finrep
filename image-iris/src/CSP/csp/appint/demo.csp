<!DOCTYPE html>

<html>
	<head>

		<meta charset="UTF-8">
		<meta http-equiv="cache-control" content="no-cache" />
		<meta http-equiv="expires" content="0" />
		<meta http-equiv="pragma" content="no-cache" />

		<title>InterSystems IRIS Multi-Model with Schema Migration Demo</title>

		<script language="javascript">

		var ip = window.location.hostname;

		function openWindows()
		{
			var time=1000;
			var callNumber=0
			var timeout = function () { return ++callNumber*time };

				/*
				A timeout between each opened tab is necessary for Safari.
				Otherwise, Safari will simply open all windows on a single tab.
				With the timeout, Safari will first block the popups. Once the user tells
				safari that it should allow popups, the user should be able to try opening all
				windows again and all the tabs will be opened, one every second, on a new tab.
				*/
				
				// Demo 4
				window_open('http://' + ip + ':10001/csp/appint/rest/data/corebanking.com.irisdemo.banksim.avroevent.NewCustomerAvroEvent/2')

				// Demo 3
				setTimeout("openWorkflow()", timeout());				

				// Demo 2:
				setTimeout("openMessageTrace()", timeout());

				setTimeout("openDataLookup()", timeout());
				
				setTimeout("openDataTransformation()", timeout());
				
				setTimeout("openBusinessProcess()", timeout());

				setTimeout("openDataStore()", timeout());
				
				setTimeout("openProduction()", timeout());


				// Demo 1:

				setTimeout("openSimulator()", timeout());

				setTimeout("openSchemaRegistry()", timeout());

				setTimeout("openKafkaControlCenter()", timeout());
				
			}

			function window_open(url)
			{
				var winReference = window.open();
				winReference.location = url;
				winReference.parent.focus();
			}

			function openSimulator()
			{
				window_open('http://' + ip + ':10000');
			}

			function openSchemaRegistry()
			{
				window_open('http://' + ip + ':8081/subjects/');
			}

			function openKafkaControlCenter()
			{
				window_open('http://' + ip + ':9021/');
			}

			function openProduction()
			{
				window_open('EnsPortal.ProductionConfig.zen?$NAMESPACE=APPINT&IRISUserName=SuperUser&IRISPassword=sys');
			}

			function openBusinessProcess()
			{
				window_open('EnsPortal.BPLEditor.zen?NAMESPACE=APPINT&BP=Normalization.Process.bpl&IRISUserName=SuperUser&IRISPassword=sys')
			}

			function openDataTransformation()
			{
				window_open('EnsPortal.DTLEditor.zen?DT=corebanking.com.irisdemo.banksim.avroevent.TransferAvroEventDTL.dtl&IRISUserName=SuperUser&IRISPassword=sys')
			}

			function openDataLookup()
			{
				window_open('EnsPortal.LookupSettings.zen?LookupTable=US_States_Code_To_Desc.lut&NAMESPACE=APPINT&IRISUserName=SuperUser&IRISPassword=sys')
			}

			function openMessageTrace()
			{
				window_open('EnsPortal.MessageViewer.zen?$NAMESPACE=APPINT&IRISUserName=SuperUser&IRISPassword=sys')
			}

			function openWorkflow()
			{
				window_open('_DeepSee.UserPortal.Workflow.zen?$NAMESPACE=APPINT&IRISUserName=SuperUser&IRISPassword=sys')
			}

			function openDataStore()
			{
				window_open('/csp/sys/exp/%25CSP.UI.Portal.SQL.Home.zen?$NAMESPACE=APPINT&IRISUserName=SuperUser&IRISPassword=sys')
			}
			
			function openRESTService()
			{
				window_open('/csp/appint/rest/data/corebanking.com.irisdemo.banksim.avroevent.NewCustomerAvroEvent/2?IRISUserName=SuperUser&IRISPassword=sys')
			}
			
			function openCube()
			{
				//window_open('http://' + ip + ':10001/csp/appint/rest/data/corebanking.com.irisdemo.banksim.avroevent.NewCustomerAvroEvent/2')
			}

			function openInstructions()
			{
				var btn = document.getElementById('instructionsbtn');
				var instructions = document.getElementById('instructions');

				if (btn.value == 'Show Instructions')
				{
					btn.value = 'Hide Instructions';
					instructions.hidden=false;
				}
				else
				{
					btn.value = 'Show Instructions';
					instructions.hidden=true;
				}
			}

			function toggleImage()
			{
				var img = document.getElementById("demoimg")

				if(img.src.includes('detailed')){
					img.src = "landing-page.png"
				}else{
					img.src = "landing-page-detailed.png"
				}
			}

		</script>
		<style>
		.Button {
			font-family: Arial;
			font-size: 12px;
			font-weight: bold;
			color: darkblue;
			background-color: #FFFFFF;
			width: 200px;
			border-radius: 5px;
		}
		.Button:hover {
			color: #000000;
			background-color: #FFFFFF;
		}
		
		td.leftFormField
		{
			text-align: left; background-color: #eeeeee; padding: 5px;
		}

		
		</style>
	</head>

	<body >

		<!-- Image Map Generated by http://www.image-map.net/ -->
		<center>
			<img src="landing-page.png" usemap="#image-map" id="demoimg">
		</center>

		<map name="image-map">
			<area target="" alt="Send Transactions and Affordability Files" title="Send Transactions and Affordability Files" href="javascript:moveTransactionAndAffordabilityFiles()" coords="380,733,762,1077" shape="rect">
			<area target="" alt="Send Transactions and Affordability Files" title="Send Transactions and Affordability Files" href="javascript:moveTransactionAndAffordabilityFiles()" coords="339,306,701,486" shape="rect">
			<area target="" alt="Send Performance Files" title="Send Performance Files" href="javascript:movePerformanceFiles()" coords="1088,718,1495,1027" shape="rect">
			<area target="" alt="Send Performance Files" title="Send Performance Files" href="javascript:movePerformanceFiles()" coords="1073,362,1480,531" shape="rect">
			<area target="" alt="Generate PSD 001" title="Generate PSD 001" href="" coords="1553,728,1842,971" shape="rect">
			<area target="" alt="Generate PSD 001" title="Generate PSD 001" href="" coords="1515,316,1839,508" shape="rect">
			<area target="" alt="Generate PSD 007" title="Generate PSD 007" href="" coords="2285,739,2550,941" shape="rect">
			<area target="" alt="Generate PSD 007" title="Generate PSD 007" href="" coords="2249,321,2568,498" shape="rect">
			<area target="" alt="Show Data Normalization" title="Show Data Normalization" href="javascript:openBusinessProcess()" coords="726,511,1020,673" shape="rect">
			<area target="" alt="Show generated PSD 001 Report" title="Show generated PSD 001 Report" href="" coords="1875,412,2201,546" shape="rect">
			<area target="" alt="Show generated PSD 007 Report" title="Show generated PSD 007 Report" href="" coords="2596,352,2861,536" shape="rect">
		</map>
						
		<table width="100%" style="text-align: center;">
			<tr>
				<td><input ID="BTNALL" type="button" class="Button" value="Open All Windows" onclick="openWindows()"/></td>
				<td><input ID="BTNIMG" type="button" class="Button" value="Toggle Detailed View" onclick="toggleImage()"/></td>
			</tr>
		</table>


		<script type="text/javascript" src="imageMapResizer.min.js"></script>

		<script language="javascript">
			var demoimg = document.getElementById('demoimg');

			demoimg.style.width="90%";

			imageMapResize();
		</script>

		<script language="JavaScript">
			function moveTransactionAndAffordabilityFiles(){
				// invoke server-side method Test
				var transCopy = #server(File.Utils.MoveFile("PSD001-TransactionData_2.2.csv", "/MortgageSystemFiles/Trans"))#;
				var affordCopy = #server(File.Utils.MoveFile("PSD001-AffordabilityData_2.2.csv", "/MortgageSystemFiles/Afford"))#;
			}
		</script>

		<script language="JavaScript">
			function movePerformanceFiles(){
				// invoke server-side method Test
				var perfCopy = #server(File.Utils.MoveAllFiles("/MortgageSystemFiles/Perf"))#;
			}
		</script>

	</body>
</html>